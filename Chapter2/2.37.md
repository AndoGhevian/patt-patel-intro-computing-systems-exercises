### 2.37 If n and m are both four-bit 2’s complement numbers, and s is the four-bit result of adding them together, how can we determine, using only the logical operations described in Section 2.6, if an overflow occurred during the addition? Develop a “procedure” for doing so. The inputs to the procedure are n, m, and s, and the output will be a bit pattern of all 0s (0000) if no overflow occurred and 1000 if an overflow did occur.

Overflow occure only if both operands are the same sign
and if result of their addition is of different sign.

#### Solution

XOR gives 1 if bits are different, and 0 if both the same.

NOT(XOR(n, m)) =

= 1 if both signs the same

= 0 if both signs are different

We can use this as a bit mask with AND to clear overflow
to 0 if they are different because in that case overflow cant occure.

In case of 1 AND will not do anything to initial value.

So we can assume NOT(XOR(n, m)) AND OVERFLOW

Now lets calculate overflow when both are same sign.

Again we can one of the operands with addition result:

XOR(m, s) which is 0 if both the same, i.e. no-overflow occure,
and 1 if signs are different, so overflow occure.

So we have OVERFLOW = XOR(m, s)

Now lets replace it in first formula we have.

NOT(XOR(n, m)) AND XOR(m, s) AND 1000

1000 mask used to ignore other bits we are not interested in.
