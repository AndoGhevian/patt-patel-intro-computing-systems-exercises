### 2.21 Describe what conditions indicate overflow has occurred when two 2â€™s complement numbers are added.

#### positive + negative

Given 1 negative and 1 non-negative number

we have formula repres(val + 1) = repres(val) + repres(1).

so if val is non-negative we have repres(val) = repres(0) + val * repres(1) where val >= 0

and vor negative ones: repres(val) = repres(0) + (-val) * repres(1)

So when we add repres(neg) + repres(pos) we get:

2 * repres(0) + pos * repres(1) + (-val) * repres(1) =

= repres(0) + (pos - val) * repres(1)

but as we know

0 <= pos <= 2^n - 1

and

-2^n <= -val <= -1

so we get -2^n <= pos - val <= 2^n - 2

so using formula it will be in a range of representable values.

#### negative + negative

Lets consider sum of 2 negative numbers representations:

repres(val1) = repres(0) - (-val1) * repres(1)

repres(val2) = repres(0) - (-val2) * repres(1)

repres(val1) + repres(val2) = repres(0) - (-val1 + -val2) * repres(1)

repres(0) - 2^n - (-val1 + -val2 - 2^n) * repres(1)

there are 2 cases:

#### |val1| + |val2| - 2^n <= 0

in this case 0 <= | |val1| + |val2| - 2^n | < 2^n

which means:

repres(0) - 2^n - (-val1 + -val2 - 2^n) * repres(1) =

= repres(0) - 2^n + | |val1| + |val2| - 2^n | * repres(1)

is some representable negative value in given bits.

#### |val1| + |val2| - 2^n > 0

In this case 2^n >= |val1| + |val2| - 2^n > 0

In this case we have:

repres(-2^n) - | |val1| + |val2| - 2^n | * repres(1) =

= repres(2^n - 1) - (|val1| + |val2| - 2^n - 1) * repres(1)

here we have:

2^n - 1 >= |val1| + |val2| - 2^n - 1 >= 0

So we will get results range from 0 to 2^n -1

thats it, non negative ones.

So we get OVERFLOW


#### positive + positive

we again will have:

repres(0) + (val1 + val2) * repres(1)

where if val1 + val2 <= 2^n - 1 then it is simply represent
a positive value in given range of n bits.

if val1 + val2 >= 2^n then we will get

2^n - 1 >= val1 + val2 - (2^n - 1) >= 1

now we get repres(0) + (2^n - 1) = repres(2^n - 1)

repres(2^n - 1) + (val1 + val2 - (2^n - 1))

where it will result in values from repres(2^n - 1) + 1 to
repres(2^n - 1) + 2^n - 1

so from -2^n to -2^n + 2^n - 2 = -2

so we will not reach even to -1.

And there will be OVERFLOW.
